<html>
  <head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>
  </head>
  <body>
    <div id="content"> Content!~ </div>
    <script type="text/babel">

class Comment extends React.Component {
  render() {
    return (
      <li> { this.props.text } </li>
    )
  }
}

class CommentList extends React.Component {
  constructor(props) {
    super(props);
    this.state = {counter: 0, comments: ["comment 0"]}
  }
  addComment() {
    var newCounter = this.state.counter + 1;
    var newComments = this.state.comments;
    var newComment = ($('#input').val());
    newComments.push("comment " + newCounter.toString() + ": "  + newComment);
    this.setState({counter: newCounter, comments: newComments})
  }
  render() {
    return (
      <div>
        { this.state.comments.map ((c) => <Comment text= { c }/>) }
        <div>New Comment: </div>
        <input type="text" id = "input"/><br/>
        <button onClick={() => {this.addComment()}}>Submit</button>
      </div>
    )
  }
}

ReactDOM.render(<CommentList />, document.getElementById('content'))
